\usepackage{verbatim}
\@primitives{moreverb}
\newcommand{\verbatimtabsize}{8}
\newenvironment{boxedverbatim}
{\@open{TABLE}{BORDER=1 CELLPADDING=1 CELLSPACING=0}\@open{TR}{}\@open{TD}{ALIGN="left"}\verbatim}
{\endverbatim\@close{TD}\@close{TR}\@close{TABLE}}
\newcommand{\verbatimtabinput}[2][\verbatimtabsize]
  {\@scaninput{\begin{verbatimtab}[#1]
}{#2}{\end{verbatimtab}}}
\newcommand{\listinginput}[3][1]
  {\@scaninput{\begin{listing}[#1]{#2}}{#3}{\end{listing}}}