<html>
<head>
  <title>MITeX</title>

  <script type="text/javascript" src="scripts/javascript/jquery.js"></script>
  <script type="text/javascript" src="scripts/javascript/query-templates.js"></script>
  <script type="text/javascript" src="scripts/javascript/load-template.js"></script>
  <script type="text/javascript" src="scripts/javascript/log.js"></script>
  <script type="text/javascript" src="scripts/javascript/ckeditor/ckeditor.js"></script>
  <script type="text/javascript" src="scripts/javascript/editor.js"></script>

  <link rel="stylesheet" type="text/css" href="mitex.css" />
  
  <link rel="SHORTCUT ICON" href="/favicon.ico"/>
  <link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico">
</head>

<body>
<a href="http://mitex.mit.edu" class="mitex">M<sup>I</sup>T<sub>E</sub>X</a>
<a href="http://sipb.mit.edu"><img src="sipb.png" class="headerright"></a>

<form id="compile" action="scripts/python/compile.py" method="post" target="_blank">
  <div class="not-tex" id="top">
    <h2 class="warning">
      NOTE: THIS SERVICE IS STILL IN DEVELOPMENT. USE AT YOUR OWN RISK.
    </h2>
    
    <p>
      This is MITeX, an online LaTeX composer. You can use a graphical interface,
      or edit the source of the preamble and body.
    </p>
    
    <p>
      Please select a LaTeX template:
      <select id="templates" onchange="loadTemplateFile(this.value);" name="template">
        <option value="empty"></option>
      </select>
    </p>
    
    <hr />
  </div>
  
  <div id="compile-log" class="not-tex">
    <div id="log-div">
      <b>Compile Log:</b>
      <button type="button" id="check" disabled="true" onclick="get_log();">Refresh</button>
      <span id="log-span">
        <button type="button" id="close" onclick="close_log();">Close</button>
        <br />
        <textarea id="log" class="tex" cols="60" readonly="true">
        </textarea>
      </span>
    </div>
  </div>
  
  <div class="not-tex">
    <button type="button" id="wysiwyg_button"
        onclick="javascript:switchToWYSIWYG();">WYSIWYG</button>
    <button type="button" id="source_button"
        onclick="javascript:switchToSource();">Source</button>
  </div>
  
  <div id="pagetablediv">
    <table id="pagetable">
      <tr>
        <td>
          <div id="wysiwyg_editor"></div>
          
          <div id="source_editor">
            <table>
              <tr>
                <td class="td_tex">
                  <div id="begin" class="tex"></div>
                </td>
              </tr>
              
              <tr>
                <td>
                  <textarea rows="10" name="latex_preamble" id="latex_preamble"
                            disabled="true" class="tex">
                  </textarea>
                </td>
              </tr>
              
              <tr>
                <td class="td_tex">
                  <div id="middle" class="tex">
                  </div>
                </td>
              </tr>
              
              <tr>
                <td>
                  <textarea rows="20" name="latex_body" id="latex_body"
                            disabled="true" class="tex">
                  </textarea>
                </td>
              </tr>
              
              <tr>
                <td class="td_tex">
                  <div id="end" class="tex"></div>
                </td>
              </tr>
            </table>
          </div>
        </td>
      </tr>
      
      <tr>
        <td>
          <div class="not-tex">
            <input type="text" name="filename" id="filename" value="out" />
            <select id="type" name="type">
              <option value="pdf">.pdf</option>
              <option value="ps">.ps</option>
              <option value="tex">.tex</option>
              <option value="google">.pdf (view)</option>
            </select>
            <input type="submit" id="submit" value="Compile!" disabled="true" />
          </div>
        </td>
      </tr>
    </table>
  </div>
</form>

<div class="not-tex footer">
  This project is released under the
  <a href="http://www.gnu.org/licenses/gpl-2.0.txt">
    GNU General Public License version 2.0
  </a> (or at your optoin any later version).<br/>  If you are
  interested in contributing, please email
  <a href="mailto:mitex@mit.edu">mitex@mit.edu</a>.  You can
  also <a href="http://github.com/leonidg/mitex">download the
  source</a>.
</div>
</body>
</html>
